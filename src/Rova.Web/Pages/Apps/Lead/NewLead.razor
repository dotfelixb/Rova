@page "/app/leads/new"
@using Microsoft.Extensions.Logging
@using Rova.Core.Features.Leads.CreateLead
@inject ILogger<NewLead> Logger
@inject NavigationManager NavigationManager

<PageTitle>New Lead</PageTitle>

<PageView>
    <Title>
        <div>
            <span class="pageTitle">New Lead</span>
            <NotSaved />
        </div>
    </Title>
    <Toolbar>
        <div class="flex flex-row space-x-2">
            <div>
                <Button Text="Save" ButtonType="primary" OnClick="@HandleOnValidSubmit" />
            </div>
        </div>
    </Toolbar>
    <SideView>
    </SideView>
    <Content>
        <EditForm Model="@lead" OnValidSubmit="@HandleOnValidSubmit">
            <div class="p-5">
                <div class="text-xs text-gray-300 font-semibold pb-3 uppercase">
                    Basic Information
                </div>
                <div class="grid grid-cols-2 lg:grid-cols-2 gap-5">
                    <TextInput Label="Name" @bind-Value="@lead.DisplayName" Error="true"/>
                    <TextInput Label="Status" @bind-Value="@lead.Status"/>
                    <SelectInput Label="Lead Type" @bind-Value="@lead.LeadType">
                        <SelectInputItem Value="Company"/>
                        <SelectInputItem Value="Individual"/>
                    </SelectInput>
                    <SelectInput Label="Gender" @bind-Value="@lead.Gender">
                         <SelectInputItem Value=""/>
                        <SelectInputItem Value="Male"/>
                        <SelectInputItem Value="Female"/>
                        <SelectInputItem Value="Other"/>
                    </SelectInput>
                    <TextInput Label="Email" @bind-Value="@lead.Email"/>
                    <TextInput Label="Source" @bind-Value="@lead.Source"/>
                    <div></div>
                    <TextInput Label="Campaign Name" @bind-Value="@lead.Campaign"/>
                    <div></div>
                    
                </div>
            </div>
            
            <div class="p-5">
                <div class="text-xs text-gray-300 font-semibold pb-3 uppercase">
                    Address & Contact
                </div>
            </div>
        </EditForm>
    </Content>
</PageView>

@code {
    CreateLeadCommand lead = new();
    
     void HandleOnValidSubmit()
    {
    }
}